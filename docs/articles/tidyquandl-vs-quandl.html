<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comparing <code>tidyquandl</code> to <code>Quandl</code> • tidyquandl</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comparing &lt;code&gt;tidyquandl&lt;/code&gt; to &lt;code&gt;Quandl&lt;/code&gt;">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyquandl</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tidyquandl-vs-quandl.html">Comparing `tidyquandl` to `Quandl`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ClaytonJY/tidyquandl">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Comparing <code>tidyquandl</code> to <code>Quandl</code>
</h1>
                        <h4 class="author">Clayton Yochum</h4>
            
            <h4 class="date">2018-08-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ClaytonJY/tidyquandl/blob/master/vignettes/tidyquandl-vs-quandl.Rmd"><code>vignettes/tidyquandl-vs-quandl.Rmd</code></a></small>
      <div class="hidden name"><code>tidyquandl-vs-quandl.Rmd</code></div>

    </div>

    
    
<p>This vignette will demonstrate some differences between the <code>tidquandl</code> package and the earlier Quandl-developed <code>Quandl</code> package that <code>tidyquandl</code> aims to supercede.</p>
<div id="api-key" class="section level2">
<h2 class="hasAnchor">
<a href="#api-key" class="anchor"></a>API Key</h2>
<p>In <code>Quandl</code>, API keys are both set and retrieved through the <code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.api_key">Quandl.api_key()</a></code> function. It won’t look anywhere for your key, so you always have to pass it in.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Quandl)
<span class="co">#&gt; Loading required package: xts</span>
<span class="co">#&gt; Loading required package: zoo</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'zoo'</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     as.Date, as.Date.numeric</span>

<span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.api_key">Quandl.api_key</a></span>(<span class="kw">Sys.getenv</span>(<span class="st">"QUANDL_API_KEY"</span>))</code></pre></div>
<p>(notice that <code>Quandl</code> directly attaches packages to the current workspace, which is generally considered poor practice.)</p>
<p><code>tidyquandl</code> replaces this with <code><a href="../reference/quandl_key_set.html">quandl_key_set()</a></code> and <code>quandl_key_get()</code> (the latter is currently an internal-only function), and <code>quandl_key_get()</code> will look for a <code>QUANDL_API_KEY</code> environment variable if no key is passed in as an argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyquandl)

<span class="kw"><a href="../reference/quandl_key_set.html">quandl_key_set</a></span>()</code></pre></div>
<p>Both functions store the key in the same <code>options</code> entry (<code>Quandl.api_key</code>) for the duration of the R session, so if you need to use both packages, you only need to set your key <em>once</em> and can do so with either package.</p>
</div>
<div id="tables" class="section level2">
<h2 class="hasAnchor">
<a href="#tables" class="anchor"></a>Tables</h2>
<p>We’ve replaced the <code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable()</a></code> function with <code>quandl_datatable</code>. For many queries, the arguments will be identical and the only difference in output will be that <code>tidyquandl</code> returns a tibble (<code>tbl_df</code>) while <code>Quandl</code> returns a plain <code>data.frame</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> <span class="st">"AAPL"</span>, <span class="dt">date.gte =</span> <span class="st">"2018-01-01"</span>, <span class="dt">date.lt =</span> <span class="st">"2018-01-08"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))
<span class="co">#&gt;   ticker       date  close   volume</span>
<span class="co">#&gt; 1   AAPL 2018-01-02 172.26 25048048</span>
<span class="co">#&gt; 2   AAPL 2018-01-03 172.23 28819653</span>
<span class="co">#&gt; 3   AAPL 2018-01-04 173.03 22211345</span>
<span class="co">#&gt; 4   AAPL 2018-01-05 175.00 23016177</span>

<span class="kw"><a href="../reference/quandl_datatable.html">quandl_datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> <span class="st">"AAPL"</span>, <span class="dt">date.gte =</span> <span class="st">"2018-01-01"</span>, <span class="dt">date.lt =</span> <span class="st">"2018-01-08"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))
<span class="co">#&gt; # A tibble: 4 x 4</span>
<span class="co">#&gt;   ticker date       close   volume</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 AAPL   2018-01-02  172. 25048048</span>
<span class="co">#&gt; 2 AAPL   2018-01-03  172. 28819653</span>
<span class="co">#&gt; 3 AAPL   2018-01-04  173. 22211345</span>
<span class="co">#&gt; 4 AAPL   2018-01-05  175  23016177</span></code></pre></div>
<p>Calling <code><a href="http://www.rdocumentation.org/packages/tibble/topics/as_tibble">tibble::as_tibble()</a></code> on the <code>Quandl</code> output would make it identical to the <code>tidyquandl</code> output in this case.</p>
<div id="batching" class="section level3">
<h3 class="hasAnchor">
<a href="#batching" class="anchor"></a>Batching</h3>
<p>One of the motivating reasons for making <code>tidyquandl</code> was to handle the case where we want to get information on hundreds of tickers at once.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 500!</span>
tickers &lt;-<span class="st"> </span><span class="kw">c</span>(
  <span class="st">"AAPL"</span>, <span class="st">"ABC"</span>, <span class="st">"AA"</span>, <span class="st">"ABBV"</span>, <span class="st">"ACE"</span>, <span class="st">"AGN"</span>, <span class="st">"ADP"</span>, <span class="st">"ADSK"</span>, <span class="st">"ABT"</span>, 
  <span class="st">"AEE"</span>, <span class="st">"ACN"</span>, <span class="st">"AEP"</span>, <span class="st">"ADBE"</span>, <span class="st">"AET"</span>, <span class="st">"ADI"</span>, <span class="st">"ADM"</span>, <span class="st">"ADS"</span>, <span class="st">"AIV"</span>, 
  <span class="st">"ADT"</span>, <span class="st">"ALL"</span>, <span class="st">"AES"</span>, <span class="st">"ALTR"</span>, <span class="st">"ALXN"</span>, <span class="st">"AFL"</span>, <span class="st">"AMAT"</span>, <span class="st">"AIG"</span>, <span class="st">"AMGN"</span>, 
  <span class="st">"AIZ"</span>, <span class="st">"AMT"</span>, <span class="st">"AKAM"</span>, <span class="st">"ALLE"</span>, <span class="st">"AME"</span>, <span class="st">"AMP"</span>, <span class="st">"AMZN"</span>, <span class="st">"A"</span>, <span class="st">"AN"</span>, 
  <span class="st">"AON"</span>, <span class="st">"APD"</span>, <span class="st">"APH"</span>, <span class="st">"AVB"</span>, <span class="st">"AVP"</span>, <span class="st">"APA"</span>, <span class="st">"APC"</span>, <span class="st">"AXP"</span>, <span class="st">"AZO"</span>, 
  <span class="st">"BA"</span>, <span class="st">"ARG"</span>, <span class="st">"BAC"</span>, <span class="st">"ATI"</span>, <span class="st">"AVY"</span>, <span class="st">"BCR"</span>, <span class="st">"BEAM"</span>, <span class="st">"BEN"</span>, <span class="st">"BAX"</span>, 
  <span class="st">"BBBY"</span>, <span class="st">"BBT"</span>, <span class="st">"BIIB"</span>, <span class="st">"BBY"</span>, <span class="st">"BLL"</span>, <span class="st">"BDX"</span>, <span class="st">"BMS"</span>, <span class="st">"BRCM"</span>, <span class="st">"BF_B"</span>, 
  <span class="st">"BHI"</span>, <span class="st">"BSX"</span>, <span class="st">"BK"</span>, <span class="st">"BWA"</span>, <span class="st">"BLK"</span>, <span class="st">"BXP"</span>, <span class="st">"CA"</span>, <span class="st">"BMY"</span>, <span class="st">"BRK_B"</span>, 
  <span class="st">"CAT"</span>, <span class="st">"BTU"</span>, <span class="st">"CBS"</span>, <span class="st">"C"</span>, <span class="st">"CCE"</span>, <span class="st">"CCI"</span>, <span class="st">"CAG"</span>, <span class="st">"CAH"</span>, <span class="st">"CAM"</span>, 
  <span class="st">"CERN"</span>, <span class="st">"CB"</span>, <span class="st">"CFN"</span>, <span class="st">"CBG"</span>, <span class="st">"CHK"</span>, <span class="st">"CI"</span>, <span class="st">"CCL"</span>, <span class="st">"CINF"</span>, <span class="st">"CELG"</span>, 
  <span class="st">"CL"</span>, <span class="st">"CF"</span>, <span class="st">"CMCSA"</span>, <span class="st">"CME"</span>, <span class="st">"CHRW"</span>, <span class="st">"CMG"</span>, <span class="st">"CMS"</span>, <span class="st">"CLF"</span>, <span class="st">"CLX"</span>, 
  <span class="st">"COF"</span>, <span class="st">"CMA"</span>, <span class="st">"COL"</span>, <span class="st">"CMI"</span>, <span class="st">"COST"</span>, <span class="st">"CNP"</span>, <span class="st">"CNX"</span>, <span class="st">"COG"</span>, <span class="st">"COH"</span>, 
  <span class="st">"CSX"</span>, <span class="st">"COP"</span>, <span class="st">"CTL"</span>, <span class="st">"COV"</span>, <span class="st">"CPB"</span>, <span class="st">"CTXS"</span>, <span class="st">"CRM"</span>, <span class="st">"CSC"</span>, <span class="st">"CVS"</span>, 
  <span class="st">"CSCO"</span>, <span class="st">"D"</span>, <span class="st">"CTAS"</span>, <span class="st">"DD"</span>, <span class="st">"CTSH"</span>, <span class="st">"CVC"</span>, <span class="st">"DGX"</span>, <span class="st">"CVX"</span>, <span class="st">"DHR"</span>, 
  <span class="st">"DAL"</span>, <span class="st">"DIS"</span>, <span class="st">"DLPH"</span>, <span class="st">"DE"</span>, <span class="st">"DFS"</span>, <span class="st">"DNB"</span>, <span class="st">"DG"</span>, <span class="st">"DO"</span>, <span class="st">"DHI"</span>, 
  <span class="st">"DOW"</span>, <span class="st">"DISCA"</span>, <span class="st">"DTE"</span>, <span class="st">"DLTR"</span>, <span class="st">"DTV"</span>, <span class="st">"DNR"</span>, <span class="st">"DVA"</span>, <span class="st">"DVN"</span>, <span class="st">"DOV"</span>, 
  <span class="st">"EBAY"</span>, <span class="st">"DPS"</span>, <span class="st">"ECL"</span>, <span class="st">"DRI"</span>, <span class="st">"ED"</span>, <span class="st">"DUK"</span>, <span class="st">"EMC"</span>, <span class="st">"EMN"</span>, <span class="st">"EA"</span>, 
  <span class="st">"EMR"</span>, <span class="st">"EOG"</span>, <span class="st">"EQR"</span>, <span class="st">"EFX"</span>, <span class="st">"ESRX"</span>, <span class="st">"EIX"</span>, <span class="st">"EL"</span>, <span class="st">"ETFC"</span>, <span class="st">"ETN"</span>, 
  <span class="st">"ETR"</span>, <span class="st">"EXC"</span>, <span class="st">"EQT"</span>, <span class="st">"EXPE"</span>, <span class="st">"ESV"</span>, <span class="st">"FAST"</span>, <span class="st">"FB"</span>, <span class="st">"FCX"</span>, <span class="st">"EW"</span>, 
  <span class="st">"EXPD"</span>, <span class="st">"FE"</span>, <span class="st">"F"</span>, <span class="st">"FISV"</span>, <span class="st">"FDO"</span>, <span class="st">"FDX"</span>, <span class="st">"FLS"</span>, <span class="st">"FMC"</span>, <span class="st">"FFIV"</span>, 
  <span class="st">"FOXA"</span>, <span class="st">"FIS"</span>, <span class="st">"FRX"</span>, <span class="st">"FITB"</span>, <span class="st">"FTI"</span>, <span class="st">"FLIR"</span>, <span class="st">"FLR"</span>, <span class="st">"GCI"</span>, <span class="st">"FOSL"</span>, 
  <span class="st">"GGP"</span>, <span class="st">"FSLR"</span>, <span class="st">"FTR"</span>, <span class="st">"GAS"</span>, <span class="st">"GM"</span>, <span class="st">"GD"</span>, <span class="st">"GE"</span>, <span class="st">"GNW"</span>, <span class="st">"GOOG"</span>, 
  <span class="st">"GHC"</span>, <span class="st">"GILD"</span>, <span class="st">"GIS"</span>, <span class="st">"GRMN"</span>, <span class="st">"GLW"</span>, <span class="st">"GS"</span>, <span class="st">"GWW"</span>, <span class="st">"GME"</span>, <span class="st">"HAL"</span>, 
  <span class="st">"GPC"</span>, <span class="st">"GPS"</span>, <span class="st">"HCBK"</span>, <span class="st">"HCN"</span>, <span class="st">"GT"</span>, <span class="st">"HAR"</span>, <span class="st">"HOG"</span>, <span class="st">"HAS"</span>, <span class="st">"HON"</span>, 
  <span class="st">"HBAN"</span>, <span class="st">"HPQ"</span>, <span class="st">"HCP"</span>, <span class="st">"HD"</span>, <span class="st">"HRL"</span>, <span class="st">"HES"</span>, <span class="st">"HIG"</span>, <span class="st">"HSP"</span>, <span class="st">"HST"</span>, 
  <span class="st">"HOT"</span>, <span class="st">"HP"</span>, <span class="st">"HUM"</span>, <span class="st">"HRB"</span>, <span class="st">"ICE"</span>, <span class="st">"HRS"</span>, <span class="st">"INTU"</span>, <span class="st">"HSY"</span>, <span class="st">"IPG"</span>, 
  <span class="st">"IR"</span>, <span class="st">"IBM"</span>, <span class="st">"IFF"</span>, <span class="st">"ISRG"</span>, <span class="st">"IGT"</span>, <span class="st">"ITW"</span>, <span class="st">"INTC"</span>, <span class="st">"JBL"</span>, <span class="st">"JCI"</span>, 
  <span class="st">"IP"</span>, <span class="st">"IRM"</span>, <span class="st">"JNPR"</span>, <span class="st">"IVZ"</span>, <span class="st">"JWN"</span>, <span class="st">"JEC"</span>, <span class="st">"KLAC"</span>, <span class="st">"JNJ"</span>, <span class="st">"KMI"</span>, 
  <span class="st">"JOY"</span>, <span class="st">"KO"</span>, <span class="st">"K"</span>, <span class="st">"KR"</span>, <span class="st">"KEY"</span>, <span class="st">"KIM"</span>, <span class="st">"KSU"</span>, <span class="st">"KMB"</span>, <span class="st">"KMX"</span>, <span class="st">"LEN"</span>, 
  <span class="st">"KORS"</span>, <span class="st">"LH"</span>, <span class="st">"KRFT"</span>, <span class="st">"KSS"</span>, <span class="st">"LLL"</span>, <span class="st">"L"</span>, <span class="st">"LB"</span>, <span class="st">"LM"</span>, <span class="st">"LEG"</span>, <span class="st">"LMT"</span>, 
  <span class="st">"LO"</span>, <span class="st">"LIFE"</span>, <span class="st">"LLTC"</span>, <span class="st">"LLY"</span>, <span class="st">"LUK"</span>, <span class="st">"LNC"</span>, <span class="st">"M"</span>, <span class="st">"MA"</span>, <span class="st">"LOW"</span>, 
  <span class="st">"MAC"</span>, <span class="st">"LRCX"</span>, <span class="st">"LSI"</span>, <span class="st">"MAS"</span>, <span class="st">"LUV"</span>, <span class="st">"MCD"</span>, <span class="st">"LYB"</span>, <span class="st">"MCK"</span>, <span class="st">"MCO"</span>, 
  <span class="st">"MAR"</span>, <span class="st">"MDT"</span>, <span class="st">"MAT"</span>, <span class="st">"MCHP"</span>, <span class="st">"MJN"</span>, <span class="st">"MMC"</span>, <span class="st">"MDLZ"</span>, <span class="st">"MMM"</span>, <span class="st">"MNST"</span>, 
  <span class="st">"MET"</span>, <span class="st">"MON"</span>, <span class="st">"MHFI"</span>, <span class="st">"MHK"</span>, <span class="st">"MPC"</span>, <span class="st">"MKC"</span>, <span class="st">"MRO"</span>, <span class="st">"MSI"</span>, <span class="st">"MO"</span>, 
  <span class="st">"MU"</span>, <span class="st">"MOS"</span>, <span class="st">"MWV"</span>, <span class="st">"MRK"</span>, <span class="st">"NBL"</span>, <span class="st">"MS"</span>, <span class="st">"MSFT"</span>, <span class="st">"NDAQ"</span>, <span class="st">"MTB"</span>, 
  <span class="st">"NEE"</span>, <span class="st">"MUR"</span>, <span class="st">"NFLX"</span>, <span class="st">"MYL"</span>, <span class="st">"NI"</span>, <span class="st">"NBR"</span>, <span class="st">"NLSN"</span>, <span class="st">"NE"</span>, <span class="st">"NOV"</span>, 
  <span class="st">"NEM"</span>, <span class="st">"NSC"</span>, <span class="st">"NFX"</span>, <span class="st">"NTRS"</span>, <span class="st">"NKE"</span>, <span class="st">"NUE"</span>, <span class="st">"NOC"</span>, <span class="st">"NWL"</span>, <span class="st">"NRG"</span>, 
  <span class="st">"OI"</span>, <span class="st">"NTAP"</span>, <span class="st">"OMC"</span>, <span class="st">"NU"</span>, <span class="st">"ORLY"</span>, <span class="st">"NVDA"</span>, <span class="st">"PAYX"</span>, <span class="st">"PBCT"</span>, <span class="st">"NWSA"</span>, 
  <span class="st">"PCAR"</span>, <span class="st">"OKE"</span>, <span class="st">"ORCL"</span>, <span class="st">"PCL"</span>, <span class="st">"OXY"</span>, <span class="st">"PCP"</span>, <span class="st">"PEG"</span>, <span class="st">"PBI"</span>, <span class="st">"PETM"</span>, 
  <span class="st">"PCG"</span>, <span class="st">"PFG"</span>, <span class="st">"PCLN"</span>, <span class="st">"PDCO"</span>, <span class="st">"PHM"</span>, <span class="st">"PEP"</span>, <span class="st">"PLD"</span>, <span class="st">"PFE"</span>, <span class="st">"PM"</span>, 
  <span class="st">"PG"</span>, <span class="st">"PNC"</span>, <span class="st">"PNR"</span>, <span class="st">"PH"</span>, <span class="st">"POM"</span>, <span class="st">"PKI"</span>, <span class="st">"PPL"</span>, <span class="st">"PLL"</span>, <span class="st">"PSA"</span>, 
  <span class="st">"PNW"</span>, <span class="st">"PVH"</span>, <span class="st">"PPG"</span>, <span class="st">"PX"</span>, <span class="st">"PRGO"</span>, <span class="st">"PRU"</span>, <span class="st">"R"</span>, <span class="st">"PSX"</span>, <span class="st">"RDC"</span>, 
  <span class="st">"PWR"</span>, <span class="st">"RF"</span>, <span class="st">"PXD"</span>, <span class="st">"RHI"</span>, <span class="st">"QCOM"</span>, <span class="st">"QEP"</span>, <span class="st">"RIG"</span>, <span class="st">"RL"</span>, <span class="st">"RAI"</span>, 
  <span class="st">"ROP"</span>, <span class="st">"REGN"</span>, <span class="st">"RRC"</span>, <span class="st">"RTN"</span>, <span class="st">"RHT"</span>, <span class="st">"ROK"</span>, <span class="st">"SEE"</span>, <span class="st">"ROST"</span>, <span class="st">"SHW"</span>, 
  <span class="st">"RSG"</span>, <span class="st">"SBUX"</span>, <span class="st">"SCG"</span>, <span class="st">"SCHW"</span>, <span class="st">"SNA"</span>, <span class="st">"SE"</span>, <span class="st">"SNI"</span>, <span class="st">"SO"</span>, <span class="st">"SIAL"</span>, 
  <span class="st">"SJM"</span>, <span class="st">"SRCL"</span>, <span class="st">"SLB"</span>, <span class="st">"SLM"</span>, <span class="st">"SNDK"</span>, <span class="st">"STJ"</span>, <span class="st">"STT"</span>, <span class="st">"STX"</span>, <span class="st">"SPG"</span>, 
  <span class="st">"SPLS"</span>, <span class="st">"SRE"</span>, <span class="st">"STI"</span>, <span class="st">"SYK"</span>, <span class="st">"SYMC"</span>, <span class="st">"STZ"</span>, <span class="st">"TAP"</span>, <span class="st">"SWK"</span>, <span class="st">"TDC"</span>, 
  <span class="st">"SWN"</span>, <span class="st">"TE"</span>, <span class="st">"SWY"</span>, <span class="st">"TEG"</span>, <span class="st">"SYY"</span>, <span class="st">"T"</span>, <span class="st">"TIF"</span>, <span class="st">"TJX"</span>, <span class="st">"TMK"</span>, <span class="st">"TEL"</span>, 
  <span class="st">"TRV"</span>, <span class="st">"TGT"</span>, <span class="st">"TSN"</span>, <span class="st">"THC"</span>, <span class="st">"TMO"</span>, <span class="st">"TRIP"</span>, <span class="st">"TROW"</span>, <span class="st">"TYC"</span>, <span class="st">"TSO"</span>, 
  <span class="st">"TSS"</span>, <span class="st">"UNP"</span>, <span class="st">"TWC"</span>, <span class="st">"TWX"</span>, <span class="st">"TXN"</span>, <span class="st">"TXT"</span>, <span class="st">"UTX"</span>, <span class="st">"UNH"</span>, <span class="st">"VAR"</span>, 
  <span class="st">"VFC"</span>, <span class="st">"UPS"</span>, <span class="st">"URBN"</span>, <span class="st">"VMC"</span>, <span class="st">"USB"</span>, <span class="st">"V"</span>, <span class="st">"VZ"</span>, <span class="st">"VIAB"</span>, <span class="st">"WAG"</span>, 
  <span class="st">"WAT"</span>, <span class="st">"VLO"</span>, <span class="st">"WDC"</span>, <span class="st">"WEC"</span>, <span class="st">"VNO"</span>, <span class="st">"WFC"</span>, <span class="st">"VRSN"</span>, <span class="st">"WFM"</span>, <span class="st">"VRTX"</span>, 
  <span class="st">"WHR"</span>, <span class="st">"VTR"</span>, <span class="st">"WIN"</span>, <span class="st">"WLP"</span>, <span class="st">"WM"</span>, <span class="st">"WMB"</span>, <span class="st">"WY"</span>, <span class="st">"WYN"</span>, <span class="st">"WYNN"</span>, 
  <span class="st">"WMT"</span>, <span class="st">"WPX"</span>, <span class="st">"XLNX"</span>, <span class="st">"XOM"</span>, <span class="st">"WU"</span>, <span class="st">"XRAY"</span>, <span class="st">"XRX"</span>, <span class="st">"X"</span>, <span class="st">"XEL"</span>, 
  <span class="st">"YUM"</span>, <span class="st">"XL"</span>, <span class="st">"XYL"</span>, <span class="st">"YHOO"</span>, <span class="st">"ZION"</span>, <span class="st">"ZMH"</span>, <span class="st">"ZTS"</span>, <span class="st">"TSCO"</span>, <span class="st">"FLWS"</span>, 
  <span class="st">"SRCE"</span>, <span class="st">"FUBC"</span>
)</code></pre></div>
<p>These are all valid tickers in the “WIKI/PRICES” table, though they might not all overlap in time.</p>
<p><code>Quandl</code> can’t handle this very well:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> tickers, <span class="dt">date =</span> <span class="st">"2018-01-02"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; Error: &lt;html&gt;</span>
<span class="co">#&gt; &lt;head&gt;&lt;title&gt;414 Request-URI Too Large&lt;/title&gt;&lt;/head&gt;</span>
<span class="co">#&gt; &lt;body bgcolor="white"&gt;</span>
<span class="co">#&gt; &lt;center&gt;&lt;h1&gt;414 Request-URI Too Large&lt;/h1&gt;&lt;/center&gt;</span>
<span class="co">#&gt; &lt;hr&gt;&lt;center&gt;nginx/1.12.2&lt;/center&gt;</span>
<span class="co">#&gt; &lt;/body&gt;</span>
<span class="co">#&gt; &lt;/html&gt;</span></code></pre></div>
<p>We get an error due to the request being too large, and a poorly-formatted error at that. We <em>could</em> write some code to help split <code>tickers</code> into smaller batches (how small?), or we could let <code>tidyquandl</code> worry about that for us:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/quandl_datatable.html">quandl_datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> tickers, <span class="dt">date =</span> <span class="st">"2018-01-02"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))

<span class="kw">nrow</span>(result)
<span class="co">#&gt; [1] 413</span>

<span class="kw">head</span>(result)
<span class="co">#&gt; # A tibble: 6 x 4</span>
<span class="co">#&gt;   ticker date       close   volume</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 A      2018-01-02  67.6  1047772</span>
<span class="co">#&gt; 2 AA     2018-01-02  55.2  2928905</span>
<span class="co">#&gt; 3 AAPL   2018-01-02 172.  25048048</span>
<span class="co">#&gt; 4 ABBV   2018-01-02  98.4  4559726</span>
<span class="co">#&gt; 5 ABC    2018-01-02  94.0  1137335</span>
<span class="co">#&gt; 6 ABT    2018-01-02  58.8 10112783</span></code></pre></div>
<p>The batching is a bit naive and overly-cautious, but I have yet to see it fail due to too many parameters.</p>
</div>
<div id="paginated-results" class="section level3">
<h3 class="hasAnchor">
<a href="#paginated-results" class="anchor"></a>Paginated Results</h3>
<p>Some queries return many results, more than Quandl wants to return for one request. What if we want full price history for Apple and Google prior to 2018?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> <span class="kw">c</span>(<span class="st">"AAPL"</span>, <span class="st">"GOOGL"</span>), <span class="dt">date.lt =</span> <span class="st">"2018-01-01"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))
<span class="co">#&gt; Warning: This call returns more data. To request more pages, please</span>
<span class="co">#&gt; set paginate=TRUE in your Quandl.datatable() call. For more information</span>
<span class="co">#&gt; see our documentation: https://github.com/quandl/quandl-r/blob/master/</span>
<span class="co">#&gt; README.md#datatables</span></code></pre></div>
<p>The <code>Quandl</code> package is happy to fetch many pages of results, but you have to force it to do this with <code>paginate = TRUE</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> <span class="kw">c</span>(<span class="st">"AAPL"</span>, <span class="st">"GOOGL"</span>), <span class="dt">date.lt =</span> <span class="st">"2018-01-01"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>), <span class="dt">paginate =</span> <span class="ot">TRUE</span>)

<span class="kw">nrow</span>(result)
<span class="co">#&gt; [1] 12706</span></code></pre></div>
<p>With <code>tidyquandl</code>, you never need to worry about this; all pages of results are fetched and combined for all queries.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/quandl_datatable.html">quandl_datatable</a></span>(<span class="st">"WIKI/PRICES"</span>, <span class="dt">ticker =</span> <span class="kw">c</span>(<span class="st">"AAPL"</span>, <span class="st">"GOOGL"</span>), <span class="dt">date.lt =</span> <span class="st">"2018-01-01"</span>, <span class="dt">qopts.columns =</span> <span class="kw">c</span>(<span class="st">"ticker"</span>, <span class="st">"date"</span>, <span class="st">"close"</span>, <span class="st">"volume"</span>))

<span class="kw">nrow</span>(result)
<span class="co">#&gt; [1] 12706</span></code></pre></div>
</div>
</div>
<div id="metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata" class="anchor"></a>Metadata</h2>
<p>Quandl has recently added the ability to grab metadata about any table through the API. You can’t currently get this with <code>Quandl</code> (<code><a href="http://www.rdocumentation.org/packages/Quandl/topics/metaData">Quandl::metaData()</a></code> does something else), but you can with <code>tidyquandl</code>!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/quandl_datatable_meta.html">quandl_datatable_meta</a></span>(<span class="st">"WIKI/PRICES"</span>)
<span class="co">#&gt; $vendor_code</span>
<span class="co">#&gt; [1] "WIKI"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $datatable_code</span>
<span class="co">#&gt; [1] "PRICES"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $name</span>
<span class="co">#&gt; [1] "Quandl End of Day Stocks Info"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $description</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $columns</span>
<span class="co">#&gt;           name              type</span>
<span class="co">#&gt; 1       ticker            String</span>
<span class="co">#&gt; 2         date              Date</span>
<span class="co">#&gt; 3         open BigDecimal(34,12)</span>
<span class="co">#&gt; 4         high BigDecimal(34,12)</span>
<span class="co">#&gt; 5          low BigDecimal(34,12)</span>
<span class="co">#&gt; 6        close BigDecimal(34,12)</span>
<span class="co">#&gt; 7       volume BigDecimal(37,15)</span>
<span class="co">#&gt; 8  ex-dividend BigDecimal(42,20)</span>
<span class="co">#&gt; 9  split_ratio            double</span>
<span class="co">#&gt; 10    adj_open BigDecimal(50,28)</span>
<span class="co">#&gt; 11    adj_high BigDecimal(50,28)</span>
<span class="co">#&gt; 12     adj_low BigDecimal(50,28)</span>
<span class="co">#&gt; 13   adj_close BigDecimal(50,28)</span>
<span class="co">#&gt; 14  adj_volume            double</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $filters</span>
<span class="co">#&gt; [1] "ticker" "date"  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $primary_key</span>
<span class="co">#&gt; [1] "ticker" "date"  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $premium</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $status</span>
<span class="co">#&gt; $status$refreshed_at</span>
<span class="co">#&gt; [1] "2018-03-27T23:54:20.000Z"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $status$status</span>
<span class="co">#&gt; [1] "ON TIME"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $status$expected_at</span>
<span class="co">#&gt; [1] "*"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $status$update_frequency</span>
<span class="co">#&gt; [1] "CONTINUOUS"</span></code></pre></div>
<p>Notice this returns a list (where one element is a plain <code>data.frame</code>), rather than forcing it all into a <code>data.frame</code>/<code>tibble</code>. This format is subject to change; could be nice to enter a vector of table names and receive a tibble with one row per table and <code>columns</code> as a nested tibble (see <a href="https://github.com/ClaytonJY/tidyquandl/issues/34">#34</a>).</p>
</div>
<div id="errors" class="section level2">
<h2 class="hasAnchor">
<a href="#errors" class="anchor"></a>Errors</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.datatable">Quandl.datatable</a></span>(<span class="st">"FOO/BAR"</span>, <span class="dt">ticker =</span> <span class="st">"AAPL"</span>)
<span class="co">#&gt; Error: {"quandl_error":{"code":"QEPx04","message":"The following datatable 'FOO/BAR' does not exist."}}</span>

<span class="kw"><a href="../reference/quandl_datatable.html">quandl_datatable</a></span>(<span class="st">"FOO/BAR"</span>, <span class="dt">ticker =</span> <span class="st">"AAPL"</span>)
<span class="co">#&gt; Request failed [404]. Retrying in 1.4 seconds...</span>
<span class="co">#&gt; Request failed [404]. Retrying in 2.4 seconds...</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; Error in quandl_api(path, "csv", params): The following datatable 'FOO/BAR' does not exist.</span>
<span class="co">#&gt; Quandl Error Code: QEPx04</span>
<span class="co">#&gt; HTTP Status Code: 404</span></code></pre></div>
</div>
<div id="missing-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#missing-functionality" class="anchor"></a>Missing Functionality</h2>
<p>While we think <code>tidyquandl</code> is now the <em>best</em> way to query Quandl’s Tables API from R, the <code>Quandl</code> package has a lot more uses we don’t address, like:</p>
<ul>
<li>timeseries datasets (<code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl">Quandl()</a></code>, <code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.dataset.get">Quandl.dataset.get()</a></code>)</li>
<li>bulk downloads (<code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.database.bulk_download_to_file">Quandl.database.bulk_download_to_file()</a></code>, <code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.database.bulk_download_url">Quandl.database.bulk_download_url()</a></code>)</li>
<li>search (<code><a href="http://www.rdocumentation.org/packages/Quandl/topics/Quandl.search">Quandl.search()</a></code>)</li>
</ul>
<p>We’re open to addressing any of these in <code>tidyquandl</code> if there’s demand for it; let us know in the <a href="">issues</a>!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#api-key">API Key</a></li>
      <li><a href="#tables">Tables</a></li>
      <li><a href="#metadata">Metadata</a></li>
      <li><a href="#errors">Errors</a></li>
      <li><a href="#missing-functionality">Missing Functionality</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Clayton Yochum.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
